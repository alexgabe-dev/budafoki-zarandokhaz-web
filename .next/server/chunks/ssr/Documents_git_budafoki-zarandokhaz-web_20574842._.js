module.exports=[13418,(a,b,c)=>{"use strict";b.exports=a.r(21369).vendored["react-ssr"].ReactJsxRuntime},22829,(a,b,c)=>{"use strict";b.exports=a.r(21369).vendored["react-ssr"].ReactDOM},1491,a=>{"use strict";var b=a.i(65348);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let e=(0,b.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...d,width:e,height:e,stroke:a,strokeWidth:g?24*Number(f)/Number(e):f,className:c("lucide",h),...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),f=(a,d)=>{let f=(0,b.forwardRef)(({className:f,...g},h)=>(0,b.createElement)(e,{ref:h,iconNode:d,className:c(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,f),...g}));return f.displayName=`${a}`,f};a.s(["default",()=>f],1491)},22655,a=>{"use strict";let b=(0,a.i(1491).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["default",()=>b])},66346,a=>{"use strict";var b=a.i(13418),c=a.i(65348),d=a.i(83444),e=a.i(10554),f=a.i(22354),g=a.i(25920),h=a.i(90607),i=a.i(69330),j=a.i(8964);let k={id:0,src:"",title:"",artist:"",medium:"",year:"",size:""};function l(){let[a,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(!1),{toast:w}=(0,i.useToast)();(0,c.useEffect)(()=>{p(!0),fetch("/api/artworks").then(a=>a.json()).then(a=>l(a)).finally(()=>p(!1))},[]);let x=async a=>{if(!confirm("Biztosan törlöd a műalkotást?"))return;r(!0);let b=await fetch(`/api/artworks/${a}`,{method:"DELETE"});if(!b.ok){t(await b.text()||"Hiba történt a törlésnél."),r(!1);return}l(await fetch("/api/artworks").then(a=>a.json())),n(null),r(!1),w({title:"Törölve",description:"A műalkotás sikeresen törölve."})},y=async()=>{if(!m)return;let b={...m};if(r(!0),b.id&&a.find(a=>a.id===b.id)){let a=await fetch(`/api/artworks/${b.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!a.ok){t(await a.text()||"Hiba történt a mentésnél."),r(!1);return}}else{let a=await fetch("/api/artworks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!a.ok){t(await a.text()||"Hiba történt a létrehozásnál."),r(!1);return}}l(await fetch("/api/artworks").then(a=>a.json())),n(null),r(!1),v(!1),w({title:"Mentve",description:"A műalkotás sikeresen mentve."})};return(0,b.jsxs)("div",{className:"container mx-auto max-w-4xl px-4 py-8",children:[(0,b.jsx)("h1",{className:"font-serif text-2xl md:text-3xl font-bold mb-6",children:"Gyűjtemény kezelése"}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("p",{className:"text-muted-foreground",children:["Műalkotások száma: ",a.length]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(d.Button,{onClick:()=>{n({...k}),v(!0)},className:"bg-primary text-primary-foreground",children:"Új műalkotás"}),(0,b.jsx)(d.Button,{variant:"outline",onClick:async()=>{await fetch("/api/admin/logout",{method:"POST"}),location.href="/admin/login"},children:"Kilépés"})]})]}),s&&(0,b.jsx)("p",{className:"text-sm text-red-600 mb-3",children:s}),o?(0,b.jsx)("p",{children:"Betöltés..."}):(0,b.jsx)("div",{className:"space-y-3",children:a.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.title}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:[a.artist," • ",a.year," • ",a.size]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(d.Button,{variant:"outline",onClick:()=>{n({...a}),v(!0)},children:"Szerkesztés"}),(0,b.jsx)(d.Button,{variant:"destructive",onClick:()=>x(a.id),children:"Törlés"})]})]},a.id))}),(0,b.jsx)(g.Dialog,{open:u,onOpenChange:a=>{v(a),a||n(null)},children:(0,b.jsxs)(g.DialogContent,{className:"sm:max-w-3xl",children:[(0,b.jsxs)(g.DialogHeader,{children:[(0,b.jsx)(g.DialogTitle,{children:m?.id?"Műalkotás szerkesztése":"Új műalkotás"}),(0,b.jsx)(g.DialogDescription,{children:"Frissítsd a mezőket, majd mentsd a módosításokat."})]}),m&&(0,b.jsx)(h.ScrollArea,{className:"max-h-[70vh] pr-4",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"title",children:"Cím *"}),(0,b.jsx)(e.Input,{id:"title",value:m.title,onChange:a=>n({...m,title:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"artist",children:"Művész *"}),(0,b.jsx)(e.Input,{id:"artist",value:m.artist,onChange:a=>n({...m,artist:a.target.value})})]})]}),(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"src",children:"Kép URL *"}),(0,b.jsx)(e.Input,{id:"src",value:m.src,onChange:a=>n({...m,src:a.target.value}),placeholder:"/images/valami.jpg"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"medium",children:"Technika"}),(0,b.jsx)(e.Input,{id:"medium",value:m.medium,onChange:a=>n({...m,medium:a.target.value})})]})]}),(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"year",children:"Év"}),(0,b.jsx)(e.Input,{id:"year",value:m.year,onChange:a=>n({...m,year:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"size",children:"Méret"}),(0,b.jsx)(e.Input,{id:"size",value:m.size,onChange:a=>n({...m,size:a.target.value})})]})]})]})}),(0,b.jsxs)(g.DialogFooter,{children:[(0,b.jsx)(d.Button,{onClick:y,disabled:q,className:(0,j.cn)("bg-primary text-primary-foreground",q&&"opacity-70"),children:q?"Mentés...":"Mentés"}),(0,b.jsx)(d.Button,{variant:"secondary",onClick:()=>v(!1),disabled:q,children:"Mégse"})]})]})})]})}a.s(["default",()=>l])}];

//# sourceMappingURL=Documents_git_budafoki-zarandokhaz-web_20574842._.js.map