module.exports=[13418,(a,b,c)=>{"use strict";b.exports=a.r(21369).vendored["react-ssr"].ReactJsxRuntime},22829,(a,b,c)=>{"use strict";b.exports=a.r(21369).vendored["react-ssr"].ReactDOM},1491,a=>{"use strict";var b=a.i(65348);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let e=(0,b.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...d,width:e,height:e,stroke:a,strokeWidth:g?24*Number(f)/Number(e):f,className:c("lucide",h),...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),f=(a,d)=>{let f=(0,b.forwardRef)(({className:f,...g},h)=>(0,b.createElement)(e,{ref:h,iconNode:d,className:c(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,f),...g}));return f.displayName=`${a}`,f};a.s(["default",()=>f],1491)},22655,a=>{"use strict";let b=(0,a.i(1491).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["default",()=>b])},18173,a=>{"use strict";var b=a.i(13418),c=a.i(8964);function d({className:a,...d}){return(0,b.jsx)("textarea",{"data-slot":"textarea",className:(0,c.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...d})}a.s(["Textarea",()=>d])},4897,a=>{"use strict";var b=a.i(65348);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},30363,a=>{"use strict";var b=a.i(65348),c=a.i(37087);function d(a){let[d,e]=b.useState(void 0);return(0,c.useLayoutEffect)(()=>{if(a){e({width:a.offsetWidth,height:a.offsetHeight});let b=new ResizeObserver(b=>{let c,d;if(!Array.isArray(b)||!b.length)return;let f=b[0];if("borderBoxSize"in f){let a=f.borderBoxSize,b=Array.isArray(a)?a[0]:a;c=b.inlineSize,d=b.blockSize}else c=a.offsetWidth,d=a.offsetHeight;e({width:c,height:d})});return b.observe(a,{box:"border-box"}),()=>b.unobserve(a)}e(void 0)},[a]),d}a.s(["useSize",()=>d])},66331,a=>{"use strict";var b=a.i(13418),c=a.i(65348),d=a.i(83444),e=a.i(10554),f=a.i(22354),g=a.i(18173),h=a.i(81790),i=a.i(78061),j=a.i(97174),k=a.i(1681),l=a.i(4897),m=a.i(30363),n=a.i(76821),o="Switch",[p,q]=(0,j.createContextScope)(o),[r,s]=p(o),t=c.forwardRef((a,d)=>{let{__scopeSwitch:e,name:f,checked:g,defaultChecked:j,required:l,disabled:m,value:o="on",onCheckedChange:p,form:q,...s}=a,[t,u]=c.useState(null),v=(0,i.useComposedRefs)(d,a=>u(a)),y=c.useRef(!1),z=!t||q||!!t.closest("form"),[A=!1,B]=(0,k.useControllableState)({prop:g,defaultProp:j,onChange:p});return(0,b.jsxs)(r,{scope:e,checked:A,disabled:m,children:[(0,b.jsx)(n.Primitive.button,{type:"button",role:"switch","aria-checked":A,"aria-required":l,"data-state":x(A),"data-disabled":m?"":void 0,disabled:m,value:o,...s,ref:v,onClick:(0,h.composeEventHandlers)(a.onClick,a=>{B(a=>!a),z&&(y.current=a.isPropagationStopped(),y.current||a.stopPropagation())})}),z&&(0,b.jsx)(w,{control:t,bubbles:!y.current,name:f,value:o,checked:A,required:l,disabled:m,form:q,style:{transform:"translateX(-100%)"}})]})});t.displayName=o;var u="SwitchThumb",v=c.forwardRef((a,c)=>{let{__scopeSwitch:d,...e}=a,f=s(u,d);return(0,b.jsx)(n.Primitive.span,{"data-state":x(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:c})});v.displayName=u;var w=a=>{let{control:d,checked:e,bubbles:f=!0,...g}=a,h=c.useRef(null),i=(0,l.usePrevious)(e),j=(0,m.useSize)(d);return c.useEffect(()=>{let a=h.current,b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(i!==e&&b){let c=new Event("click",{bubbles:f});b.call(a,e),a.dispatchEvent(c)}},[i,e,f]),(0,b.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...g,tabIndex:-1,ref:h,style:{...a.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function x(a){return a?"checked":"unchecked"}var y=a.i(8964);function z({className:a,...c}){return(0,b.jsx)(t,{"data-slot":"switch",className:(0,y.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(v,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}var A=a.i(25920),B=a.i(90607),C=a.i(69330);function D(){let[a,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(!1),{toast:s}=(0,C.useToast)(),t=(0,c.useMemo)(()=>({id:0,slug:"",title:"",excerpt:"",content:"",date:"",readTime:"",image:"",category:"Esemény",featured:!1}),[]);(0,c.useEffect)(()=>{l(!0),fetch("/api/news").then(a=>a.json()).then(a=>h(a)).finally(()=>l(!1))},[]);let u=async a=>{if(!confirm("Biztosan törlöd a cikket?"))return;n(!0);let b=await fetch(`/api/news/${a}`,{method:"DELETE"});if(!b.ok){p(await b.text()||"Hiba történt a törlésnél."),n(!1);return}h(await fetch("/api/news").then(a=>a.json())),j(null),n(!1),s({title:"Törölve",description:"A cikk sikeresen törölve."})},v=async()=>{if(!i)return;let b={...i};if(b.slug||(b.slug=b.title.toLowerCase().replace(/[^a-z0-9áéíóöőúüű\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")),n(!0),b.id&&a.find(a=>a.id===b.id)){let a=await fetch(`/api/news/${b.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!a.ok){p(await a.text()||"Hiba történt a mentésnél."),n(!1);return}}else{let a=await fetch("/api/news",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!a.ok){p(await a.text()||"Hiba történt a létrehozásnál."),n(!1);return}}h(await fetch("/api/news").then(a=>a.json())),j(null),n(!1),r(!1),s({title:"Mentve",description:"A cikk sikeresen mentve."})},w=(a,b)=>{if(!i)return;let c=document.getElementById("content-ta");if(!c)return;let{selectionStart:d,selectionEnd:e,value:f}=c,g=f.slice(0,d),h=f.slice(d,e),k=f.slice(e),l=`${g}${a}${h}${b}${k}`;j({...i,content:l})};return(0,b.jsxs)("div",{className:"container mx-auto max-w-4xl px-4 py-8",children:[(0,b.jsx)("h1",{className:"font-serif text-2xl md:text-3xl font-bold mb-6",children:"Hírek kezelése"}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("p",{className:"text-muted-foreground",children:["Cikkek száma: ",a.length]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(d.Button,{onClick:()=>{j({...t}),r(!0)},className:"bg-primary text-primary-foreground",children:"Új cikk"}),(0,b.jsx)(d.Button,{variant:"outline",onClick:async()=>{await fetch("/api/admin/logout",{method:"POST"}),location.href="/admin/login"},children:"Kilépés"})]})]}),o&&(0,b.jsx)("p",{className:"text-sm text-red-600 mb-3",children:o}),k?(0,b.jsx)("p",{children:"Betöltés..."}):(0,b.jsx)("div",{className:"space-y-3",children:a.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.title}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[a.featured&&(0,b.jsx)("span",{className:"inline-flex items-center bg-secondary text-secondary-foreground text-xs font-medium px-2 py-0.5 rounded-full",children:"Kiemelt"}),(0,b.jsxs)("span",{children:[a.date," • ",a.readTime," • ",a.category]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(d.Button,{variant:"outline",onClick:()=>{j({...a}),r(!0)},children:"Szerkesztés"}),(0,b.jsx)(d.Button,{variant:"destructive",onClick:()=>u(a.id),children:"Törlés"})]})]},a.id))}),(0,b.jsx)(A.Dialog,{open:q,onOpenChange:a=>{r(a),a||j(null)},children:(0,b.jsxs)(A.DialogContent,{className:"sm:max-w-3xl",children:[(0,b.jsxs)(A.DialogHeader,{children:[(0,b.jsx)(A.DialogTitle,{children:i?.id?"Cikk szerkesztése":"Új cikk"}),(0,b.jsx)(A.DialogDescription,{children:"Frissítsd a mezőket, majd mentsd a módosításokat."})]}),i&&(0,b.jsx)(B.ScrollArea,{className:"max-h-[70vh] pr-4",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"title",children:"Cím *"}),(0,b.jsx)(e.Input,{id:"title",value:i.title,onChange:a=>j({...i,title:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"slug",children:"Slug"}),(0,b.jsx)(e.Input,{id:"slug",value:i.slug,onChange:a=>j({...i,slug:a.target.value}),placeholder:"auto"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(z,{id:"featured",checked:!!i.featured,onCheckedChange:a=>j({...i,featured:a})}),(0,b.jsx)(f.Label,{htmlFor:"featured",children:"Kiemelt cikk"})]}),(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"date",children:"Dátum"}),(0,b.jsx)(e.Input,{id:"date",value:i.date,onChange:a=>j({...i,date:a.target.value}),placeholder:"2025. december 1."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"readTime",children:"Olvasási idő"}),(0,b.jsx)(e.Input,{id:"readTime",value:i.readTime,onChange:a=>j({...i,readTime:a.target.value}),placeholder:"3 perc"})]})]}),(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"image",children:"Kép URL"}),(0,b.jsx)(e.Input,{id:"image",value:i.image,onChange:a=>j({...i,image:a.target.value}),placeholder:"/images/valami.jpg"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"category",children:"Kategória"}),(0,b.jsx)(e.Input,{id:"category",value:i.category,onChange:a=>j({...i,category:a.target.value}),placeholder:"Esemény"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"excerpt",children:"Kivonat"}),(0,b.jsx)(g.Textarea,{id:"excerpt",rows:3,value:i.excerpt,onChange:a=>j({...i,excerpt:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(f.Label,{htmlFor:"content",children:"Tartalom (HTML)"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(d.Button,{type:"button",variant:"outline",onClick:()=>w("<strong>","</strong>"),children:"B"}),(0,b.jsx)(d.Button,{type:"button",variant:"outline",onClick:()=>w("<em>","</em>"),children:"I"}),(0,b.jsx)(d.Button,{type:"button",variant:"outline",onClick:()=>w("<blockquote>","</blockquote>"),children:"Quote"}),(0,b.jsx)(d.Button,{type:"button",variant:"outline",onClick:()=>w('<span class="text-primary">',"</span>"),children:"Red"})]})]}),(0,b.jsx)(g.Textarea,{id:"content-ta",rows:10,value:i.content,onChange:a=>j({...i,content:a.target.value}),className:"font-mono"})]})]})}),(0,b.jsxs)(A.DialogFooter,{children:[(0,b.jsx)(d.Button,{onClick:v,disabled:m,className:(0,y.cn)("bg-primary text-primary-foreground",m&&"opacity-70"),children:m?"Mentés...":"Mentés"}),(0,b.jsx)(d.Button,{variant:"secondary",onClick:()=>r(!1),disabled:m,children:"Mégse"})]})]})})]})}a.s(["default",()=>D],66331)}];

//# sourceMappingURL=Documents_git_budafoki-zarandokhaz-web_340a3533._.js.map