module.exports=[87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},70106,a=>{"use strict";var b=a.i(72131);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let e=(0,b.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...d,width:e,height:e,stroke:a,strokeWidth:g?24*Number(f)/Number(e):f,className:c("lucide",h),...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),f=(a,d)=>{let f=(0,b.forwardRef)(({className:f,...g},h)=>(0,b.createElement)(e,{ref:h,iconNode:d,className:c(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,f),...g}));return f.displayName=`${a}`,f};a.s(["default",()=>f],70106)},62213,a=>{"use strict";let b=(0,a.i(70106).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["default",()=>b])},46893,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("textarea",{"data-slot":"textarea",className:(0,c.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...d})}a.s(["Textarea",()=>d])},63251,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(40695),e=a.i(5522),f=a.i(17171),g=a.i(46893),h=a.i(65733),i=a.i(46470),j=a.i(70246),k=a.i(97895);function l(){let[a,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(!1),{toast:w}=(0,j.useToast)(),x=(0,c.useMemo)(()=>({id:0,slug:"",title:"",artist:"",description:"",image:"",dateRange:"",location:"",status:"current",details:{paintedWhen:"",paintedWhere:"",technique:"",dimensions:"",curatorNote:""}}),[]);(0,c.useEffect)(()=>{p(!0),fetch("/api/exhibitions").then(a=>a.json()).then(a=>l(a)).finally(()=>p(!1))},[]);let y=async a=>{if(!confirm("Biztosan törlöd a kiállítást?"))return;r(!0);let b=await fetch(`/api/exhibitions/${a}`,{method:"DELETE"});if(!b.ok){t(await b.text()||"Hiba történt a törlésnél."),r(!1);return}l(await fetch("/api/exhibitions").then(a=>a.json())),n(null),r(!1),w({title:"Törölve",description:"A kiállítás sikeresen törölve."})},z=async()=>{if(!m)return;let b={...m};if(b.slug||(b.slug=b.title.toLowerCase().replace(/[^a-z0-9áéíóöőúüű\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")),r(!0),b.id&&a.find(a=>a.id===b.id)){let a=await fetch(`/api/exhibitions/${b.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!a.ok){t(await a.text()||"Hiba történt a mentésnél."),r(!1);return}}else{let a=await fetch("/api/exhibitions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!a.ok){t(await a.text()||"Hiba történt a létrehozásnál."),r(!1);return}}l(await fetch("/api/exhibitions").then(a=>a.json())),n(null),r(!1),v(!1),w({title:"Mentve",description:"A kiállítás sikeresen mentve."})};return(0,b.jsxs)("div",{className:"container mx-auto max-w-4xl px-4 py-8",children:[(0,b.jsx)("h1",{className:"font-serif text-2xl md:text-3xl font-bold mb-6",children:"Kiállítások kezelése"}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("p",{className:"text-muted-foreground",children:["Kiállítások száma: ",a.length]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(d.Button,{onClick:()=>{n({...x}),v(!0)},className:"bg-primary text-primary-foreground",children:"Új kiállítás"}),(0,b.jsx)(d.Button,{variant:"outline",onClick:async()=>{await fetch("/api/admin/logout",{method:"POST"}),location.href="/admin/login"},children:"Kilépés"})]})]}),s&&(0,b.jsx)("p",{className:"text-sm text-red-600 mb-3",children:s}),o?(0,b.jsx)("p",{children:"Betöltés..."}):(0,b.jsx)("div",{className:"space-y-3",children:a.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.title}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:[a.artist," • ",a.dateRange," • ",a.location]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(d.Button,{variant:"outline",onClick:()=>{n({...a}),v(!0)},children:"Szerkesztés"}),(0,b.jsx)(d.Button,{variant:"destructive",onClick:()=>y(a.id),children:"Törlés"})]})]},a.id))}),(0,b.jsx)(h.Dialog,{open:u,onOpenChange:a=>{v(a),a||n(null)},children:(0,b.jsxs)(h.DialogContent,{className:"sm:max-w-3xl",children:[(0,b.jsxs)(h.DialogHeader,{children:[(0,b.jsx)(h.DialogTitle,{children:m?.id?"Kiállítás szerkesztése":"Új kiállítás"}),(0,b.jsx)(h.DialogDescription,{children:"Frissítsd a mezőket, majd mentsd a módosításokat."})]}),m&&(0,b.jsx)(i.ScrollArea,{className:"max-h-[70vh] pr-4",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"title",children:"Cím *"}),(0,b.jsx)(e.Input,{id:"title",value:m.title,onChange:a=>n({...m,title:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"slug",children:"Slug"}),(0,b.jsx)(e.Input,{id:"slug",value:m.slug,onChange:a=>n({...m,slug:a.target.value}),placeholder:"auto"})]})]}),(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"artist",children:"Művész"}),(0,b.jsx)(e.Input,{id:"artist",value:m.artist,onChange:a=>n({...m,artist:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"image",children:"Kép URL"}),(0,b.jsx)(e.Input,{id:"image",value:m.image,onChange:a=>n({...m,image:a.target.value}),placeholder:"/images/valami.jpg"})]})]}),(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"dateRange",children:"Dátum intervallum"}),(0,b.jsx)(e.Input,{id:"dateRange",value:m.dateRange,onChange:a=>n({...m,dateRange:a.target.value}),placeholder:"2025. december 1. – 2025. január 15."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"location",children:"Helyszín"}),(0,b.jsx)(e.Input,{id:"location",value:m.location,onChange:a=>n({...m,location:a.target.value}),placeholder:"Főgaléria"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"status",children:"Státusz"}),(0,b.jsx)(e.Input,{id:"status",value:m.status,onChange:a=>n({...m,status:a.target.value}),placeholder:"current | upcoming"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"description",children:"Leírás"}),(0,b.jsx)(g.Textarea,{id:"description",rows:3,value:m.description,onChange:a=>n({...m,description:a.target.value})})]}),(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"paintedWhen",children:"Mikor készült"}),(0,b.jsx)(e.Input,{id:"paintedWhen",value:m.details?.paintedWhen||"",onChange:a=>n({...m,details:{...m.details||{},paintedWhen:a.target.value}})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"paintedWhere",children:"Hol készült"}),(0,b.jsx)(e.Input,{id:"paintedWhere",value:m.details?.paintedWhere||"",onChange:a=>n({...m,details:{...m.details||{},paintedWhere:a.target.value}})})]})]}),(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"technique",children:"Technika"}),(0,b.jsx)(e.Input,{id:"technique",value:m.details?.technique||"",onChange:a=>n({...m,details:{...m.details||{},technique:a.target.value}})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"dimensions",children:"Méret"}),(0,b.jsx)(e.Input,{id:"dimensions",value:m.details?.dimensions||"",onChange:a=>n({...m,details:{...m.details||{},dimensions:a.target.value}})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"curatorNote",children:"Kurátori megjegyzés"}),(0,b.jsx)(g.Textarea,{id:"curatorNote",rows:3,value:m.details?.curatorNote||"",onChange:a=>n({...m,details:{...m.details||{},curatorNote:a.target.value}})})]})]})}),(0,b.jsxs)(h.DialogFooter,{children:[(0,b.jsx)(d.Button,{onClick:z,disabled:q,className:(0,k.cn)("bg-primary text-primary-foreground",q&&"opacity-70"),children:q?"Mentés...":"Mentés"}),(0,b.jsx)(d.Button,{variant:"secondary",onClick:()=>v(!1),disabled:q,children:"Mégse"})]})]})})]})}a.s(["default",()=>l])}];

//# sourceMappingURL=_31a8a748._.js.map